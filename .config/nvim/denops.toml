[[plugins]]
repo = 'vim-denops/denops.vim'
on_event = 'VimEnter'

[[plugins]]
repo = 'gamoutatsumi/dps-ghosttext.vim'
depends = ['denops.vim']
on_cmd = ['GhostStart']
hook_add = '''
let g:dps_ghosttext#ftmap = {
\  "qiita.com": "markdown"
\}
'''

[[plugins]]
repo = 'vim-skk/skkeleton'
depends = ['denops.vim']
on_map = { ic = '<Plug>' }
hook_add = '''
  let g:skkeleton#mode = ''
  imap <C-j> <Plug>(skkeleton-toggle)
  cmap <C-j> <Plug>(skkeleton-toggle)
  autocmd User skkeleton-initialize-pre call skkeleton#config({"eggLikeNewline": v:true, "keepState": v:true , "useSkkServer": v:true})
  if has('mac')
    autocmd User skkeleton-initialize-pre call skkeleton#config({"globalJisyo": "~/Library/Application Support/AquaSKK/SKK-JISYO.L"})
  else
  endif
  function s:skkeleton_init_kanatable() abort
    call skkeleton#register_kanatable('rom', {
      \ "z\<Space>": ["\u3000", ''],
      \ "x-": ['―', ''],
      \ "<<": ['《', ''],
      \ ">>": ['》', ''],
      \ "(": ['（', ''],
      \ ")": ["）", ''],
      \ "z|": ['｜', ''],
    \ })
  endfunction
  augroup skkeleton-user
    autocmd!
    autocmd User skkeleton-initialize-post call s:skkeleton_init_kanatable()
    autocmd User skkeleton-mode-changed redrawstatus
  augroup END
'''

[[plugins]]
repo = 'gamoutatsumi/gyazoupload.vim'
depends = ['denops.vim']
on_cmd = ['GyazoUpload']
hook_add = '''
  let g:gyazo#token=$GYAZO_TOKEN
'''

[[plugins]]
repo = 'kat0h/bufpreview.vim'
depends = ['denops.vim']
on_cmd = ['PreviewMarkdown']
hook_add = '''
  let g:bufpreview_browser = 'firefox'
'''

[[plugins]]
repo = 'skanehira/denops-gh.vim'
on_source = 'denops.vim'
hook_add = '''
  augroup gh_autocmd
    autocmd!
    autocmd User gh_open_issue call s:enable_auto_completion()
  augroup END
  function! s:enable_auto_completion()
    " Enable source 'gh_issues' to current buffer.
    call ddc#custom#patch_buffer('sources', ['gh_issues'])
    call ddc#custom#patch_buffer('sourceOptions', {
          \ 'gh_issues': {
            \  'matcherKey': 'menu'
          \ }})
    call ddc#custom#patch_buffer('specialBufferCompletion', v:true)
    " If matsui54/denops-popup-preview.vim is installed,
    " you can preview issue body's info.
    call popup_preview#enable()
    " remove 'preview' from completeopt
    set completeopt-=preview
  endfunction
'''

[[plugins]]
repo = 'skanehira/denops-docker.vim'
on_source = 'denops.vim'

[[plugins]]
repo = 'monaqa/dps-dial.vim'
depends = 'denops.vim'
on_map = ['<Plug>(dps-dial-']
hook_add = '''
  nmap <C-a> <Plug>(dps-dial-increment)
  nmap <C-x> <Plug>(dps-dial-decrement)
  xmap <C-a> <Plug>(dps-dial-increment)
  xmap <C-x> <Plug>(dps-dial-decrement)
  xmap g<C-a> g<Plug>(dps-dial-increment)
  xmap g<C-x> g<Plug>(dps-dial-decrement)
'''

[[plugins]]
repo = 'yuki-yano/fuzzy-motion.vim'
depends = ['denops.vim']
on_cmd = ['FuzzyMotion']
hook_add = '''
  nnoremap gfs <Cmd>FuzzyMotion<CR>
'''
