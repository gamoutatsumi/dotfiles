[[plugins]]
repo = 'tversteeg/registers.nvim'
lazy = 1
on_lua = ['registers']

[[plugins]]
repo = 'folke/which-key.nvim'
lazy = 1
on_cmd = ['WhichKey']

# [[plugins]]
# repo = 'kevinhwang91/nvim-hlslens'
# hook_add = '''
# noremap <silent> n <Cmd>execute('normal! ' . v:count1 . 'n')<CR><Cmd>lua require('hlslens').start()<CR>
# noremap <silent> N <Cmd>execute('normal! ' . v:count1 . 'N')<CR><Cmd>lua require('hlslens').start()<CR>
# noremap * *<Cmd>lua require('hlslens').start()<CR>
# noremap # #<Cmd>lua require('hlslens').start()<CR>
# noremap g* g*<Cmd>lua require('hlslens').start()<CR>
# noremap g# g#<Cmd>lua require('hlslens').start()<CR>
# nnoremap <silent> <Esc><Esc> <Cmd>nohlsearch<CR>
# '''

[[plugins]]
repo = 'lewis6991/gitsigns.nvim'
hook_post_source = '''
lua << EOF
  require('gitsigns').setup{
    current_line_blame = true,
    current_line_blame_opts = {
      virt_text = true,
      virt_text_pos = 'eol',
      delay = 1000
    },
    current_line_blame_formatter_opts = {
      relative_time = false
    }
  }
EOF
'''

[[plugins]]
repo = 'nvim-lualine/lualine.nvim'
hook_post_source = '''
lua << EOF
  local function skkstatus()
    local alias = { [''] = 'A', hira = 'あ', kata = 'ア', hankata = 'ｱ', zenkaku = "Ａ" }
    return alias[vim.g['skkeleton#mode']]
  end

  local custom_nightfly = require'lualine.themes.nightfly'
  custom_nightfly.insert.a.bg = custom_nightfly.normal.a.bg
  custom_nightfly.visual.a.bg = custom_nightfly.normal.a.bg
  custom_nightfly.normal.y = {}
  custom_nightfly.normal.y.bg = custom_nightfly.normal.a.bg
  custom_nightfly.normal.y.fg = custom_nightfly.normal.a.fg
  custom_nightfly.insert.y = {}
  custom_nightfly.insert.y.bg = custom_nightfly.normal.a.bg
  custom_nightfly.insert.y.fg = custom_nightfly.normal.a.fg
  custom_nightfly.normal.y = {}
  custom_nightfly.normal.y.bg = custom_nightfly.normal.a.bg
  custom_nightfly.normal.y.fg = custom_nightfly.normal.a.fg
  custom_nightfly.command = {}
  custom_nightfly.command.y = {}
  custom_nightfly.command.y.bg = custom_nightfly.normal.a.bg
  custom_nightfly.command.y.fg = custom_nightfly.normal.a.fg
  custom_nightfly.insert.z = custom_nightfly.normal.b
  custom_nightfly.normal.z = custom_nightfly.normal.b
  custom_nightfly.command.z = custom_nightfly.normal.b

  require'lualine'.setup {
    options = {
      icons_enabled = true,
      theme = custom_nightfly,
      component_separators = { left = '', right = ''},
      section_separators = { left = '', right = ''},
      always_divide_middle = true,
    },
    sections = {
      lualine_a = { 'mode', skkstatus },
      lualine_b = { { 'branch', separator = '', padding = { left = 1, right = 0 } }, { 'diff', colored = false, separator = '' }, { 'filename', path = 1, shorting_target = 30, icon_enabled = true, icon = '' } },
      lualine_c = {},
      lualine_x = { 'filetype', { 'encoding', separator = '', padding = { left = 1, right = 0 } }, 'fileformat' },
      lualine_y = {{ 'location', separator = '' }, {'progress', padding = { left = 0, right = 1 } }},
      lualine_z = {{ 'diagnostics', sources = {'nvim_diagnostic'}, colored = false, symbols = { error = 'E:', warn = 'W:', info = 'I', hint = 'H:' } }}
    },
    extensions = {'fern'}
  }
EOF
'''

[[plugins]]
repo = 'antoinemadec/FixCursorHold.nvim'

[[plugins]]
repo = 'norcalli/nvim-colorizer.lua'
hook_post_source = '''
lua << EOF
  require'colorizer'.setup {
    '*';    
    '!gh-issues';
  }
EOF
'''

[[plugins]]
repo = 'kyazdani42/nvim-web-devicons'

[[plugins]]
repo = 'romgrk/barbar.nvim'
hook_add = '''
  nnoremap <silent> <C-s> <Cmd>BufferPick<CR>
  nnoremap <silent> <leader>bd <Cmd>BufferOrderByDirectory<CR>
  nnoremap <silent> <leader>bl <Cmd>BufferOrderByLanguage<CR>
  nnoremap <silent> <S-TAB> <Cmd>BufferPrevious<CR>
  nnoremap <silent> <TAB> <Cmd>BufferNext<CR>
'''

[[plugins]]
repo = 'nvim-lua/popup.nvim'

[[plugins]]
repo = 'nvim-lua/plenary.nvim'

[[plugins]]
repo = 'phaazon/hop.nvim'
hook_post_source = '''
lua require'hop'.setup()
'''
hook_add = '''
nmap gff <cmd>lua require'hop'.hint_words()<CR>
'''

[[plugins]]
repo = 'b3nj5m1n/kommentary'
hook_post_source = '''
lua << EOF
  require('kommentary.config').configure_language("typescriptreact", {
    single_line_comment_string = "//",
    multi_line_comment_strings = {"{/*", "*/}"}
  })
EOF
'''

[[plugins]]
repo = 'kwkarlwang/bufresize.nvim'

[[plugins]]
repo = 'nvim-telescope/telescope.nvim'
on_cmd = ['Telescope']
depends = ['plenary.nvim']
lazy = 1
hook_add = '''
  nnoremap ;f <Cmd>Telescope find_files<CR>
  nnoremap ;h <Cmd>Telescope help_tags<CR>
  nnoremap ;g <Cmd>Telescope grep_string<CR>
  nnoremap ;d <Cmd>Telescope diagnostics<CR>
  nnoremap ;b <Cmd>Telescope buffers<CR>
'''

[[plugins]]
repo = 'L3MON4D3/LuaSnip'

[[plugins]]
repo = 'HallerPatrick/py_lsp.nvim'
lazy = 1
on_ft = ['python']
